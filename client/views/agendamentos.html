<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PulseFlow | Agendamentos</title>
  <link rel="stylesheet" href="/client/public/css/agendamentos.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
  <link rel="icon" type="image/png" href="/client/public/assets/logoMiniatura.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div id="header-component"></div>
  <div id="sidebar-component"></div>
  
  <div class="container">
    <div class="content-wrapper">
      <div class="page-header">
        <div class="header-title">
          <h1><i class="fas fa-calendar-alt"></i> Agendamentos</h1>
          <p class="header-subtitle">Gerencie suas consultas de forma eficiente</p>
          <div class="header-badges">
            <span class="badge"><i class="fas fa-rotate"></i> Atualizado em tempo real</span>
            <span class="badge"><i class="fas fa-shield-check"></i> Dados protegidos</span>
          </div>
        </div>
        <button id="novoAgendamentoBtn" class="btn-primary">
          <i class="fas fa-plus"></i> Novo Agendamento
        </button>
      </div>

      <!-- Filtros -->
      <div class="filters-section">
        <div class="filters-header">
          <div class="filters-title">
            <h2><i class="fas fa-sliders-h"></i> Filtros avançados</h2>
            <p>Combine filtros para localizar rapidamente um agendamento específico</p>
          </div>
          <div class="filters-meta">
            <span><i class="fas fa-bullseye"></i> Resultados sob medida</span>
            <span><i class="fas fa-magnifying-glass-chart"></i> Insights precisos</span>
          </div>
        </div>
        <div class="filter-group">
          <label for="filtroStatus">Status</label>
          <select id="filtroStatus" class="filter-select">
            <option value="">Todos</option>
            <option value="agendada">Agendada</option>
            <option value="confirmada">Confirmada</option>
            <option value="realizada">Realizada</option>
            <option value="cancelada">Cancelada</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="filtroDataInicio">Data Início</label>
          <input type="date" id="filtroDataInicio" class="filter-input">
        </div>
        <div class="filter-group">
          <label for="filtroDataFim">Data Fim</label>
          <input type="date" id="filtroDataFim" class="filter-input">
        </div>
        <div class="filter-group">
          <button id="limparFiltrosBtn" class="btn-secondary">
            <i class="fas fa-times"></i> Limpar
          </button>
        </div>
      </div>

      <div class="section-heading">
        <div class="section-heading-text">
          <h2>Resumo geral</h2>
          <p>Indicadores atualizados dos atendimentos em cada etapa</p>
        </div>
      </div>

      <!-- Estatísticas -->
      <div class="stats-section">
        <div class="stat-card">
          <div class="stat-icon stat-agendada">
            <i class="fas fa-clock"></i>
          </div>
          <div class="stat-info">
            <div class="stat-value" id="statAgendadas">0</div>
            <div class="stat-label">Agendadas</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon stat-confirmada">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-info">
            <div class="stat-value" id="statConfirmadas">0</div>
            <div class="stat-label">Confirmadas</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon stat-realizada">
            <i class="fas fa-check-double"></i>
          </div>
          <div class="stat-info">
            <div class="stat-value" id="statRealizadas">0</div>
            <div class="stat-label">Realizadas</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon stat-cancelada">
            <i class="fas fa-times-circle"></i>
          </div>
          <div class="stat-info">
            <div class="stat-value" id="statCanceladas">0</div>
            <div class="stat-label">Canceladas</div>
          </div>
        </div>
      </div>

      <div class="status-legend">
        <span class="legend-pill">
          <i class="fas fa-dot-circle status-agendada"></i> Agendada
        </span>
        <span class="legend-pill">
          <i class="fas fa-dot-circle status-confirmada"></i> Confirmada
        </span>
        <span class="legend-pill">
          <i class="fas fa-dot-circle status-realizada"></i> Realizada
        </span>
        <span class="legend-pill">
          <i class="fas fa-dot-circle status-cancelada"></i> Cancelada
        </span>
      </div>

      <!-- Lista de Agendamentos -->
      <div class="agendamentos-section">
        <div class="agendamentos-header">
          <div class="agendamentos-title">
            <h2>Próximos agendamentos</h2>
            <p>Visualize, confirme e acompanhe cada etapa do atendimento com clareza</p>
          </div>
          <div class="agendamentos-toolbar">
            <button class="view-toggle active" type="button">
              <i class="fas fa-list-ul"></i>
            </button>
            <button class="view-toggle" type="button" disabled title="Em breve">
              <i class="fas fa-table-cells-large"></i>
            </button>
          </div>
        </div>
        <div id="loadingAgendamentos" class="loading" style="display: none;">
          <i class="fas fa-spinner fa-spin"></i> Carregando agendamentos...
        </div>
        <div id="listaAgendamentos" class="agendamentos-list">
          <!-- Agendamentos serão inseridos aqui via JavaScript -->
        </div>
        <div id="semAgendamentos" class="empty-state" style="display: none;">
          <i class="fas fa-calendar-times"></i>
          <p>Nenhum agendamento encontrado</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Detalhes do Agendamento -->
  <div id="modalDetalhes" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Detalhes do Agendamento</h2>
        <button class="modal-close" id="fecharModalDetalhes">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div id="detalhesConteudo" class="detalhes-content">
        <!-- Conteúdo preenchido via JavaScript -->
      </div>
      <div class="modal-actions">
        <button type="button" id="fecharDetalhesBtn" class="btn-secondary">Fechar</button>
        <div class="modal-actions-right">
          <button type="button" id="reagendarAgendamentoBtn" class="btn-primary" style="display: none;">
            <i class="fas fa-undo"></i>
            Reagendar
          </button>
          <button type="button" id="cancelarAgendamentoBtn" class="btn-danger">
            <i class="fas fa-ban"></i>
            Cancelar agendamento
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
  <script src="/client/public/js/agendamentos.js"></script>
</body>
</html>

